# Server Configuration
PORT=3001
NODE_ENV=development

# Supabase Configuration
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_KEY=your-service-role-key-here

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# CORS Configuration
FRONTEND_URL=http://localhost:5173

# Frontend URLs for SAML Redirects
# Web browser frontend (Netlify, Vercel, etc.)
CLIENT_URL=https://dulcet-cobbler-4df9df.netlify.app
# Mobile app deep link or custom scheme
# For React Native/Capacitor apps, use a custom URL scheme like: workerconnect://
# For development, can use: http://localhost
MOBILE_APP_URL=workerconnect://

# Database Connection (optional - for direct PostgreSQL connection)
# DATABASE_URL=postgresql://postgres:your-password@db.your-project-ref.supabase.co:5432/postgres

# ============================================
# SAML AUTHENTICATION CONFIGURATION
# ============================================

# Session Configuration
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# Service Provider (SP) Configuration
# Entity ID - Unique identifier for your Service Provider
# Format: Usually a URL like https://yourdomain.com/saml/metadata
# For Render deployment: https://workerconnection-backend.onrender.com/saml/metadata
SAML_ENTITY_ID=https://workerconnection-backend.onrender.com/saml/metadata

# Assertion Consumer Service (ACS) URL
# This is where SafeNet Trusted Access will send SAML responses
# Must match: https://yourdomain.com/saml/acs
# For Render deployment: https://workerconnection-backend.onrender.com/saml/acs
SAML_ACS_URL=https://workerconnection-backend.onrender.com/saml/acs

# Single Logout Service (SLO) URL
# This is where STA will send logout requests
# Must match: https://yourdomain.com/saml/logout
# For Render deployment: https://workerconnection-backend.onrender.com/saml/logout
SAML_LOGOUT_URL=https://workerconnection-backend.onrender.com/saml/logout

# Identity Provider (IDP) Configuration - SafeNet Trusted Access
# Entry Point - SAML SSO URL from STA
# Format: https://<tenant>.safenetidp.com/saml/sso
SAML_ENTRY_POINT=https://your-tenant.safenetidp.com/saml/sso

# STA Issuer/Entity ID
# This is the Entity ID of your SafeNet Trusted Access tenant
# Get this from STA metadata or console
SAML_ISSUER=https://your-tenant.safenetidp.com

# STA Certificate (IDP Certificate)
# This is the public certificate from SafeNet Trusted Access
# Get this from STA metadata or download from STA console
# Paste the full certificate including BEGIN/END lines
SAML_IDP_CERT=-----BEGIN CERTIFICATE-----
YOUR_STA_CERTIFICATE_HERE
-----END CERTIFICATE-----

# Service Provider Certificate (Optional but recommended)
# Generate using: openssl req -new -x509 -key sp-private-key.pem -out sp-certificate.pem -days 365
# Or paste the full certificate here
SAML_SP_CERT=-----BEGIN CERTIFICATE-----
YOUR_SP_CERTIFICATE_HERE
-----END CERTIFICATE-----

# Service Provider Private Key (Optional but recommended)
# Generate using: openssl genrsa -out sp-private-key.pem 2048
# Or paste the full private key here (keep this secret!)
SAML_SP_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----
YOUR_SP_PRIVATE_KEY_HERE
-----END PRIVATE KEY-----

# SAML Protocol Settings
# NameID Format - Common formats:
# - urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress
# - urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified
# - urn:oasis:names:tc:SAML:2.0:nameid-format:persistent
# - urn:oasis:names:tc:SAML:2.0:nameid-format:transient
SAML_NAME_ID_FORMAT=urn:oasis:names:tc:SAML:2.0:nameid-format:persistent

# Signature Algorithm (sha1, sha256, sha512)
SAML_SIGNATURE_ALGORITHM=sha256

# Digest Algorithm (sha1, sha256, sha512)
SAML_DIGEST_ALGORITHM=sha256

